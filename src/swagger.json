{
	"components": {
		"examples": {},
		"headers": {},
		"parameters": {},
		"requestBodies": {},
		"responses": {},
		"schemas": {
			"Location": {
				"description": "Information about a location.",
				"properties": {
					"locationId": {
						"type": "string"
					},
					"address": {
						"type": "string"
					}
				},
				"required": [
					"locationId",
					"address"
				],
				"type": "object",
				"additionalProperties": false,
				"example": {
					"locationId": "location-1",
					"address": "Location 1"
				}
			},
			"SearchLocationsResult": {
				"description": "JSON response format for a search locations operation.",
				"properties": {
					"status": {
						"type": "number",
						"enum": [
							200
						],
						"nullable": false
					},
					"data": {
						"properties": {
							"locations": {
								"items": {
									"$ref": "#/components/schemas/Location"
								},
								"type": "array"
							}
						},
						"required": [
							"locations"
						],
						"type": "object"
					}
				},
				"required": [
					"status",
					"data"
				],
				"type": "object",
				"additionalProperties": false,
				"example": {
					"status": 200,
					"data": {
						"locations": [
							{
								"locationId": "location-1",
								"address": "Location 1"
							},
							{
								"locationId": "location-2",
								"address": "Location 2"
							}
						]
					}
				}
			},
			"ServerErrorResponse": {
				"description": "JSON response format for a \"500 Internal Server Error\" error.",
				"properties": {
					"status": {
						"type": "number",
						"enum": [
							500
						],
						"nullable": false
					},
					"error": {
						"properties": {},
						"additionalProperties": {
							"type": "string"
						},
						"type": "object"
					}
				},
				"required": [
					"status",
					"error"
				],
				"type": "object",
				"additionalProperties": false,
				"example": {
					"status": 500,
					"error": {}
				}
			},
			"CreateLocationResult": {
				"description": "JSON response format for a create location operation.",
				"properties": {
					"status": {
						"type": "number",
						"enum": [
							201
						],
						"nullable": false
					},
					"data": {
						"properties": {
							"location": {
								"$ref": "#/components/schemas/Location"
							}
						},
						"required": [
							"location"
						],
						"type": "object"
					}
				},
				"required": [
					"status",
					"data"
				],
				"type": "object",
				"additionalProperties": false,
				"example": {
					"status": 201,
					"data": {
						"created": {
							"locationId": "location-1",
							"address": "Location 1"
						}
					}
				}
			},
			"FieldErrors": {
				"properties": {},
				"type": "object",
				"additionalProperties": {
					"properties": {
						"value": {},
						"message": {
							"type": "string"
						}
					},
					"required": [
						"message"
					],
					"type": "object"
				}
			},
			"BadRequestErrorResponse": {
				"description": "JSON response format for a \"400 Bad Request\" error.",
				"properties": {
					"status": {
						"type": "number",
						"enum": [
							400
						],
						"nullable": false
					},
					"error": {
						"properties": {
							"fields": {
								"$ref": "#/components/schemas/FieldErrors"
							},
							"message": {
								"type": "string"
							}
						},
						"type": "object"
					}
				},
				"required": [
					"status",
					"error"
				],
				"type": "object",
				"additionalProperties": false,
				"example": {
					"status": 400,
					"error": {
						"message": "Error description.",
						"fields": [
							{
								"name": {
									"message": "Reason or description.",
									"value": "Any value or undefined."
								}
							}
						]
					}
				}
			},
			"AuthenticationErrorResponse": {
				"description": "JSON response format for a \"401 Unauthorized\" error.",
				"properties": {
					"status": {
						"type": "number",
						"enum": [
							401
						],
						"nullable": false
					},
					"error": {
						"properties": {},
						"additionalProperties": {
							"type": "string"
						},
						"type": "object"
					}
				},
				"required": [
					"status",
					"error"
				],
				"type": "object",
				"additionalProperties": false,
				"example": {
					"status": 401,
					"error": {}
				}
			},
			"AuthorizationErrorResponse": {
				"description": "JSON response format for a \"403 Forbidden\" error.",
				"properties": {
					"status": {
						"type": "number",
						"enum": [
							403
						],
						"nullable": false
					},
					"error": {
						"properties": {},
						"additionalProperties": {
							"type": "string"
						},
						"type": "object"
					}
				},
				"required": [
					"status",
					"error"
				],
				"type": "object",
				"additionalProperties": false,
				"example": {
					"status": 403,
					"error": {}
				}
			},
			"CreateLocationParams": {
				"description": "JSON request format to create a new location.",
				"properties": {
					"address": {
						"type": "string"
					}
				},
				"required": [
					"address"
				],
				"type": "object",
				"additionalProperties": false,
				"example": {
					"address": "Location 1"
				}
			},
			"ProductStatus": {
				"enum": [
					"available",
					"sold out",
					"last units",
					"no info"
				],
				"type": "string"
			},
			"ProductPublicInfo": {
				"properties": {
					"productId": {
						"type": "string"
					},
					"name": {
						"type": "string"
					},
					"description": {
						"type": "string"
					},
					"price": {
						"type": "number",
						"format": "double"
					},
					"active": {
						"type": "boolean"
					},
					"status": {
						"$ref": "#/components/schemas/ProductStatus"
					},
					"images": {
						"items": {
							"type": "string"
						},
						"type": "array"
					},
					"category": {
						"type": "string"
					},
					"stock": {
						"items": {
							"type": "string"
						},
						"type": "array"
					}
				},
				"required": [
					"productId",
					"name",
					"description",
					"price",
					"active",
					"status",
					"images",
					"category",
					"stock"
				],
				"type": "object",
				"additionalProperties": false
			},
			"GetProductsResult": {
				"properties": {
					"status": {
						"type": "number",
						"enum": [
							200
						],
						"nullable": false
					},
					"data": {
						"properties": {
							"products": {
								"items": {
									"$ref": "#/components/schemas/ProductPublicInfo"
								},
								"type": "array"
							}
						},
						"required": [
							"products"
						],
						"type": "object"
					}
				},
				"required": [
					"status",
					"data"
				],
				"type": "object",
				"additionalProperties": false
			},
			"ProductCategory": {
				"enum": [
					"tshirt",
					"book",
					"bag",
					"poster"
				],
				"type": "string"
			},
			"GetProductByIdResult": {
				"properties": {
					"status": {
						"type": "number",
						"enum": [
							200
						],
						"nullable": false
					},
					"data": {
						"$ref": "#/components/schemas/ProductPublicInfo"
					}
				},
				"required": [
					"status",
					"data"
				],
				"type": "object",
				"additionalProperties": false
			},
			"PatchProductResult": {
				"properties": {
					"status": {
						"type": "number",
						"enum": [
							200
						],
						"nullable": false
					}
				},
				"required": [
					"status"
				],
				"type": "object",
				"additionalProperties": false
			},
			"UpdateProductParams": {
				"properties": {
					"name": {
						"type": "string"
					},
					"description": {
						"type": "string"
					},
					"price": {
						"type": "number",
						"format": "double"
					},
					"active": {
						"type": "boolean"
					}
				},
				"type": "object",
				"additionalProperties": false
			},
			"SaleItem": {
				"description": "Information about a sold product.",
				"properties": {
					"productId": {
						"type": "string"
					},
					"locationId": {
						"type": "string"
					},
					"quantity": {
						"type": "integer",
						"format": "int32",
						"minimum": 1
					},
					"price": {
						"type": "number",
						"format": "double",
						"minimum": 0
					}
				},
				"required": [
					"productId",
					"locationId",
					"quantity",
					"price"
				],
				"type": "object",
				"additionalProperties": false,
				"example": {
					"productId": "product-1",
					"locationId": "location-1",
					"quantity": 5,
					"price": 10
				}
			},
			"Sale": {
				"description": "Information about a sale.",
				"properties": {
					"saleId": {
						"type": "string"
					},
					"date": {
						"type": "string"
					},
					"sellerId": {
						"type": "string"
					},
					"totalPrice": {
						"type": "number",
						"format": "double"
					},
					"list": {
						"items": {
							"$ref": "#/components/schemas/SaleItem"
						},
						"type": "array"
					}
				},
				"required": [
					"saleId",
					"date",
					"sellerId",
					"totalPrice",
					"list"
				],
				"type": "object",
				"additionalProperties": false,
				"example": {
					"saleId": "sale-1",
					"date": "2022-12-31T00:00:00Z",
					"sellerId": "user-1",
					"totalPrice": 50,
					"list": [
						{
							"productId": "product-1",
							"locationId": "location-1",
							"quantity": 5,
							"price": 10
						}
					]
				}
			},
			"SearchSalesResult": {
				"properties": {
					"status": {
						"type": "number",
						"enum": [
							200
						],
						"nullable": false
					},
					"data": {
						"properties": {
							"sales": {
								"items": {
									"$ref": "#/components/schemas/Sale"
								},
								"type": "array"
							}
						},
						"required": [
							"sales"
						],
						"type": "object"
					}
				},
				"required": [
					"status",
					"data"
				],
				"type": "object",
				"additionalProperties": false
			},
			"CreateSaleItemParams": {
				"properties": {
					"productId": {
						"type": "string"
					},
					"locationId": {
						"type": "string"
					},
					"quantity": {
						"type": "integer",
						"format": "int32",
						"minimum": 1
					}
				},
				"required": [
					"productId",
					"locationId",
					"quantity"
				],
				"type": "object",
				"additionalProperties": false
			},
			"CreateSaleParams": {
				"description": "Information necessary to create a new sale.",
				"properties": {
					"sellerId": {
						"type": "string"
					},
					"list": {
						"items": {
							"$ref": "#/components/schemas/CreateSaleItemParams"
						},
						"type": "array"
					}
				},
				"required": [
					"sellerId",
					"list"
				],
				"type": "object",
				"additionalProperties": false,
				"example": {
					"sellerId": "user-1",
					"list": [
						{
							"productId": "product-1",
							"locationId": "location-1",
							"quantity": 5
						}
					]
				}
			},
			"NotFoundErrorResponse": {
				"description": "JSON response format for a \"404 Not Found\" error.",
				"properties": {
					"status": {
						"type": "number",
						"enum": [
							404
						],
						"nullable": false
					},
					"error": {
						"properties": {},
						"additionalProperties": {
							"type": "string"
						},
						"type": "object"
					}
				},
				"required": [
					"status",
					"error"
				],
				"type": "object",
				"additionalProperties": false,
				"example": {
					"status": 404,
					"error": {}
				}
			},
			"UUID": {
				"type": "string",
				"format": "uuid"
			},
			"LoginResult": {
				"properties": {
					"status": {
						"type": "number",
						"enum": [
							200
						],
						"nullable": false
					},
					"data": {
						"properties": {
							"userId": {
								"$ref": "#/components/schemas/UUID"
							}
						},
						"required": [
							"userId"
						],
						"type": "object"
					}
				},
				"required": [
					"status",
					"data"
				],
				"type": "object",
				"additionalProperties": false
			},
			"Username": {
				"type": "string",
				"example": "user000",
				"pattern": "^[A-Za-z][\\w]{4,19}$"
			},
			"Password": {
				"type": "string",
				"example": "password",
				"pattern": "^[\\w]{8,19}$"
			},
			"LoginParams": {
				"properties": {
					"username": {
						"$ref": "#/components/schemas/Username"
					},
					"password": {
						"$ref": "#/components/schemas/Password"
					}
				},
				"required": [
					"username",
					"password"
				],
				"type": "object",
				"additionalProperties": false
			},
			"USERS_NAME": {
				"type": "string",
				"example": "Alice"
			},
			"Role": {
				"enum": [
					"basic",
					"seller",
					"manager",
					"admin"
				],
				"type": "string"
			},
			"UserFullInfo": {
				"properties": {
					"userId": {
						"$ref": "#/components/schemas/UUID"
					},
					"name": {
						"$ref": "#/components/schemas/USERS_NAME"
					},
					"role": {
						"$ref": "#/components/schemas/Role"
					},
					"createdAt": {
						"type": "string",
						"format": "date-time"
					},
					"updatedAt": {
						"type": "string",
						"format": "date-time"
					}
				},
				"required": [
					"userId",
					"name",
					"role",
					"createdAt",
					"updatedAt"
				],
				"type": "object",
				"additionalProperties": false
			},
			"GetUsersResult": {
				"description": "JSON response format for the \"GET /users\" endpoint.",
				"properties": {
					"status": {
						"type": "number",
						"enum": [
							200
						],
						"nullable": false
					},
					"data": {
						"properties": {
							"list": {
								"items": {
									"$ref": "#/components/schemas/UserFullInfo"
								},
								"type": "array"
							}
						},
						"required": [
							"list"
						],
						"type": "object"
					}
				},
				"required": [
					"status",
					"data"
				],
				"type": "object",
				"additionalProperties": false
			},
			"UserProfile": {
				"properties": {
					"userId": {
						"$ref": "#/components/schemas/UUID"
					},
					"name": {
						"$ref": "#/components/schemas/USERS_NAME"
					}
				},
				"required": [
					"userId",
					"name"
				],
				"type": "object",
				"additionalProperties": false
			},
			"GetSellersResult": {
				"description": "JSON response format for the \"GET /users\" endpoint.",
				"properties": {
					"status": {
						"type": "number",
						"enum": [
							200
						],
						"nullable": false
					},
					"data": {
						"properties": {
							"list": {
								"items": {
									"$ref": "#/components/schemas/UserProfile"
								},
								"type": "array"
							}
						},
						"required": [
							"list"
						],
						"type": "object"
					}
				},
				"required": [
					"status",
					"data"
				],
				"type": "object",
				"additionalProperties": false
			},
			"PostUsersResult": {
				"description": "JSON response format for the \"POST /users\" endpoint.",
				"properties": {
					"status": {
						"type": "number",
						"enum": [
							201
						],
						"nullable": false
					},
					"data": {
						"$ref": "#/components/schemas/UserProfile"
					}
				},
				"required": [
					"status",
					"data"
				],
				"type": "object",
				"additionalProperties": false
			},
			"CreateUserParams": {
				"description": "JSON request format to create a new user.",
				"properties": {
					"username": {
						"$ref": "#/components/schemas/Username"
					},
					"password": {
						"$ref": "#/components/schemas/Password"
					},
					"name": {
						"$ref": "#/components/schemas/USERS_NAME"
					}
				},
				"required": [
					"username",
					"password",
					"name"
				],
				"type": "object",
				"additionalProperties": false
			},
			"GetUserProfileResult": {
				"description": "JSON response format for the \"GET /users/{userId}\" endpoint.",
				"properties": {
					"status": {
						"type": "number",
						"enum": [
							200
						],
						"nullable": false
					},
					"data": {
						"$ref": "#/components/schemas/UserProfile"
					}
				},
				"required": [
					"status",
					"data"
				],
				"type": "object",
				"additionalProperties": false
			},
			"PatchUserProfileResult": {
				"description": "JSON response format for the \"PATCH /users/{userId}\" endpoint.",
				"properties": {
					"status": {
						"type": "number",
						"enum": [
							200
						],
						"nullable": false
					},
					"data": {
						"$ref": "#/components/schemas/UserProfile"
					}
				},
				"required": [
					"status"
				],
				"type": "object",
				"additionalProperties": false
			},
			"UpdateUserProfileParams": {
				"description": "JSON request format to update an existing user.",
				"properties": {
					"name": {
						"$ref": "#/components/schemas/USERS_NAME"
					}
				},
				"required": [
					"name"
				],
				"type": "object",
				"additionalProperties": false
			},
			"GetUserFullInfoResult": {
				"description": "JSON response format for the \"GET /users/{userId}/fullinfo\" endpoint.",
				"properties": {
					"status": {
						"type": "number",
						"enum": [
							200
						],
						"nullable": false
					},
					"data": {
						"$ref": "#/components/schemas/UserFullInfo"
					}
				},
				"required": [
					"status",
					"data"
				],
				"type": "object",
				"additionalProperties": false
			},
			"PatchUserFullInfoResult": {
				"description": "JSON response format for the \"PATCH /users/{userId}/fullinfo\" endpoint.",
				"properties": {
					"status": {
						"type": "number",
						"enum": [
							200
						],
						"nullable": false
					},
					"data": {
						"$ref": "#/components/schemas/UserFullInfo"
					}
				},
				"required": [
					"status"
				],
				"type": "object",
				"additionalProperties": false
			},
			"UpdateUserFullInfoParams": {
				"description": "JSON request format to update an existing user's details.",
				"properties": {
					"name": {
						"$ref": "#/components/schemas/USERS_NAME"
					},
					"role": {
						"$ref": "#/components/schemas/Role"
					}
				},
				"required": [
					"name",
					"role"
				],
				"type": "object",
				"additionalProperties": false
			}
		},
		"securitySchemes": {
			"jwt": {
				"type": "apiKey",
				"in": "cookie",
				"name": "auth_token"
			}
		}
	},
	"info": {
		"title": "IndieLisboa Stock Management",
		"version": "1.0.0",
		"description": "Web API to view/edit product stock, register sales and manage user accounts.",
		"license": {
			"name": "ISC"
		},
		"contact": {}
	},
	"openapi": "3.0.0",
	"paths": {
		"/locations": {
			"get": {
				"operationId": "GetLocations",
				"responses": {
					"200": {
						"description": "Successfully returned a list of locations.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/SearchLocationsResult"
								}
							}
						}
					},
					"500": {
						"description": "Internal Server Error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ServerErrorResponse"
								}
							}
						}
					}
				},
				"summary": "Get a list of locations.",
				"tags": [
					"Locations"
				],
				"security": [
					{
						"jwt": [
							"manager"
						]
					}
				],
				"parameters": []
			},
			"post": {
				"operationId": "PostSale",
				"responses": {
					"201": {
						"description": "Successfully created a new location.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/CreateLocationResult"
								}
							}
						}
					},
					"400": {
						"description": "Bad Request",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/BadRequestErrorResponse"
								},
								"examples": {
									"Example 1": {
										"value": {
											"status": 400,
											"error": {
												"fields": {
													"body.address": {
														"message": "invalid string value",
														"value": 1
													}
												}
											}
										}
									}
								}
							}
						}
					},
					"401": {
						"description": "Unauthorized",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/AuthenticationErrorResponse"
								}
							}
						}
					},
					"403": {
						"description": "Forbidden",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/AuthorizationErrorResponse"
								}
							}
						}
					},
					"500": {
						"description": "Internal Server Error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ServerErrorResponse"
								}
							}
						}
					}
				},
				"summary": "Create a new location.",
				"tags": [
					"Locations"
				],
				"security": [
					{
						"jwt": [
							"manager"
						]
					}
				],
				"parameters": [],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/schemas/CreateLocationParams"
							}
						}
					}
				}
			}
		},
		"/products": {
			"get": {
				"operationId": "GetProducts",
				"responses": {
					"200": {
						"description": "Ok",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/GetProductsResult"
								}
							}
						}
					}
				},
				"description": "If a search criteria is applied, only products with an exact match will be returned.\r\nWhen applicable, if a search parameter has multiple values, returned products will match at least one of those values.",
				"summary": "Get a list of products. You may specify a search criteria.",
				"tags": [
					"Products"
				],
				"security": [],
				"parameters": [
					{
						"description": "Limit the number of products returned.",
						"in": "query",
						"name": "limit",
						"required": false,
						"schema": {
							"format": "int32",
							"type": "integer",
							"minimum": 1
						},
						"example": 10
					},
					{
						"description": "Used for pagination. When limit is used,\r\nchunks of products will be skipped (e.g. if page=5 and limit=10, the first 50 products will be skipped).",
						"in": "query",
						"name": "page",
						"required": false,
						"schema": {
							"format": "int32",
							"type": "integer",
							"minimum": 0
						},
						"example": 0
					},
					{
						"description": "Minimum product price (inclusive).",
						"in": "query",
						"name": "priceMin",
						"required": false,
						"schema": {
							"format": "double",
							"type": "number",
							"minimum": 0
						},
						"example": 0
					},
					{
						"description": "Maximum product price (inclusive).",
						"in": "query",
						"name": "priceMax",
						"required": false,
						"schema": {
							"format": "double",
							"type": "number",
							"maximum": 2000
						},
						"example": 50
					},
					{
						"description": "Product availability.",
						"in": "query",
						"name": "status",
						"required": false,
						"schema": {
							"type": "array",
							"items": {
								"$ref": "#/components/schemas/ProductStatus"
							}
						}
					},
					{
						"description": "Product category.",
						"in": "query",
						"name": "category",
						"required": false,
						"schema": {
							"$ref": "#/components/schemas/ProductCategory"
						}
					}
				]
			}
		},
		"/products/{productId}": {
			"get": {
				"operationId": "GetProductById",
				"responses": {
					"200": {
						"description": "Ok",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/GetProductByIdResult"
								}
							}
						}
					}
				},
				"summary": "Get detailed information of a product.",
				"tags": [
					"Products"
				],
				"security": [],
				"parameters": [
					{
						"in": "path",
						"name": "productId",
						"required": true,
						"schema": {
							"type": "string"
						}
					}
				]
			},
			"patch": {
				"operationId": "PatchProduct",
				"responses": {
					"200": {
						"description": "Ok",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/PatchProductResult"
								}
							}
						}
					}
				},
				"summary": "Update a product's details.",
				"tags": [
					"Products"
				],
				"security": [
					{
						"jwt": [
							"manager"
						]
					}
				],
				"parameters": [
					{
						"in": "path",
						"name": "productId",
						"required": true,
						"schema": {
							"type": "string"
						}
					}
				],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/schemas/UpdateProductParams"
							}
						}
					}
				}
			}
		},
		"/sales": {
			"get": {
				"operationId": "GetSales",
				"responses": {
					"200": {
						"description": "Successfully returned a list of sales.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/SearchSalesResult"
								}
							}
						}
					},
					"400": {
						"description": "Bad Request",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/BadRequestErrorResponse"
								},
								"examples": {
									"Example 1": {
										"value": {
											"status": 400,
											"error": {
												"fields": {
													"limit": {
														"message": "minimum 1",
														"value": "0"
													}
												}
											}
										}
									}
								}
							}
						}
					},
					"401": {
						"description": "Unauthorized",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/AuthenticationErrorResponse"
								}
							}
						}
					},
					"403": {
						"description": "Forbidden",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/AuthorizationErrorResponse"
								}
							}
						}
					},
					"500": {
						"description": "Internal Server Error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ServerErrorResponse"
								}
							}
						}
					}
				},
				"description": "If a search criteria is applied, only sales with an **exact** match will be returned.",
				"summary": "Get a list of past sales. You may specify search parameters.",
				"tags": [
					"Sales"
				],
				"security": [
					{
						"jwt": [
							"manager"
						]
					}
				],
				"parameters": [
					{
						"description": "Limit the number of sales returned.",
						"in": "query",
						"name": "limit",
						"required": false,
						"schema": {
							"format": "int32",
							"type": "integer",
							"minimum": 1
						},
						"example": 10
					},
					{
						"description": "Used for pagination. When limit is used,\r\nchunks of sales will be skipped (e.g. if page=5 and limit=10, the first 50 sales will be skipped).",
						"in": "query",
						"name": "page",
						"required": false,
						"schema": {
							"format": "int32",
							"type": "integer",
							"minimum": 0
						},
						"example": 0
					},
					{
						"description": "Sales after this date (inclusive).",
						"in": "query",
						"name": "startDate",
						"required": false,
						"schema": {
							"format": "date-time",
							"type": "string"
						},
						"example": "2022-01-01T00:00:00Z"
					},
					{
						"description": "Sales before this date (inclusive).",
						"in": "query",
						"name": "endDate",
						"required": false,
						"schema": {
							"format": "date-time",
							"type": "string"
						},
						"example": "2022-12-31T00:00:00Z"
					},
					{
						"description": "Sales by this seller.",
						"in": "query",
						"name": "sellerId",
						"required": false,
						"schema": {
							"type": "string"
						},
						"example": "user-1"
					},
					{
						"description": "Sales with this product.",
						"in": "query",
						"name": "productId",
						"required": false,
						"schema": {
							"type": "string"
						},
						"example": "product-1"
					},
					{
						"description": "Sales at this location.",
						"in": "query",
						"name": "locationId",
						"required": false,
						"schema": {
							"type": "string"
						},
						"example": "location-1"
					}
				]
			},
			"post": {
				"operationId": "PostSales",
				"responses": {
					"201": {
						"description": "Successfully created a new sale.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Sale"
								}
							}
						}
					},
					"400": {
						"description": "Bad Request",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/BadRequestErrorResponse"
								},
								"examples": {
									"Example 1": {
										"value": {
											"status": 400,
											"error": {
												"fields": {
													"body.sellerId": {
														"message": "invalid string value",
														"value": 1
													}
												}
											}
										}
									}
								}
							}
						}
					},
					"401": {
						"description": "Unauthorized",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/AuthenticationErrorResponse"
								}
							}
						}
					},
					"403": {
						"description": "Forbidden",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/AuthorizationErrorResponse"
								}
							}
						}
					},
					"404": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/NotFoundErrorResponse"
								}
							}
						}
					},
					"500": {
						"description": "Internal Server Error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ServerErrorResponse"
								}
							}
						}
					}
				},
				"summary": "Create a new sale.",
				"tags": [
					"Sales"
				],
				"security": [
					{
						"jwt": [
							"seller"
						]
					}
				],
				"parameters": [],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/schemas/CreateSaleParams"
							}
						}
					}
				}
			}
		},
		"/auth/login": {
			"post": {
				"operationId": "Login",
				"responses": {
					"200": {
						"description": "Login successfull.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/LoginResult"
								}
							}
						}
					},
					"404": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/NotFoundErrorResponse"
								}
							}
						}
					}
				},
				"description": "Login with an user account to access protected resources.\r\nA JSON Web Token will be set as a cookie for further authentication purposes.",
				"summary": "Login an user account.",
				"tags": [
					"Auth"
				],
				"security": [],
				"parameters": [],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/schemas/LoginParams"
							}
						}
					}
				}
			}
		},
		"/auth/logout": {
			"post": {
				"operationId": "Logout",
				"responses": {
					"204": {
						"description": "Logout successfull."
					}
				},
				"summary": "Logout the current user account.",
				"tags": [
					"Auth"
				],
				"security": [],
				"parameters": []
			}
		},
		"/users": {
			"get": {
				"operationId": "GetUsers",
				"responses": {
					"200": {
						"description": "Successfully returned a list of users.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/GetUsersResult"
								}
							}
						}
					},
					"400": {
						"description": "Bad Request",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/BadRequestErrorResponse"
								},
								"examples": {
									"Example 1": {
										"value": {
											"status": 400,
											"error": {
												"fields": {
													"role": {
														"message": "should be one of the following; [...]",
														"value": "abc"
													}
												}
											}
										}
									}
								}
							}
						}
					}
				},
				"description": "If a search criteria is applied, only users with an **exact** match will be returned.",
				"summary": "Retrieve a list of users. You may specify search parameters.",
				"tags": [
					"Users"
				],
				"security": [
					{
						"jwt": [
							"admin"
						]
					}
				],
				"parameters": [
					{
						"description": "Filter users by role.",
						"in": "query",
						"name": "role",
						"required": false,
						"schema": {
							"$ref": "#/components/schemas/Role"
						}
					}
				]
			},
			"post": {
				"operationId": "CreateUser",
				"responses": {
					"201": {
						"description": "Successfully created a new user.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/PostUsersResult"
								}
							}
						}
					},
					"400": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/BadRequestErrorResponse"
								}
							}
						}
					}
				},
				"summary": "Create a new user.",
				"tags": [
					"Users"
				],
				"security": [],
				"parameters": [],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/schemas/CreateUserParams"
							}
						}
					}
				}
			}
		},
		"/users/sellers": {
			"get": {
				"operationId": "GetSellers",
				"responses": {
					"200": {
						"description": "Successfully returned a list of users with the 'seller' role.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/GetSellersResult"
								}
							}
						}
					}
				},
				"description": "Only retrieves users with the role 'seller'.",
				"summary": "Retrieve a list of users with the 'seller' role. You may specify search parameters.",
				"tags": [
					"Users"
				],
				"security": [
					{
						"jwt": [
							"manager"
						]
					}
				],
				"parameters": []
			}
		},
		"/users/{userId}": {
			"get": {
				"operationId": "GetUserProfile",
				"responses": {
					"200": {
						"description": "Successfully returned the user's profile.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/GetUserProfileResult"
								}
							}
						}
					},
					"404": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/NotFoundErrorResponse"
								}
							}
						}
					}
				},
				"description": "Only the own user, or an account with sufficient privileges, may view this profile.",
				"summary": "Retrieve the user profile.",
				"tags": [
					"Users"
				],
				"security": [
					{
						"jwt": [
							"basic"
						]
					}
				],
				"parameters": [
					{
						"description": "User's unique identifier.",
						"in": "path",
						"name": "userId",
						"required": true,
						"schema": {
							"$ref": "#/components/schemas/UUID"
						}
					}
				]
			},
			"patch": {
				"operationId": "PatchUserProfile",
				"responses": {
					"200": {
						"description": "Successfully updated the user's profile.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/PatchUserProfileResult"
								}
							}
						}
					},
					"400": {
						"description": "Bad Request",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/BadRequestErrorResponse"
								},
								"examples": {
									"Example 1": {
										"value": {
											"status": 400,
											"error": {
												"fields": {
													"body.name": {
														"message": "invalid string value",
														"value": 0
													}
												}
											}
										}
									}
								}
							}
						}
					},
					"404": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/NotFoundErrorResponse"
								}
							}
						}
					}
				},
				"description": "Only the own user, or an account with sufficient privileges, may edit this profile.",
				"summary": "Update user profile.",
				"tags": [
					"Users"
				],
				"security": [
					{
						"jwt": [
							"basic"
						]
					}
				],
				"parameters": [
					{
						"description": "User's unique identifier.",
						"in": "path",
						"name": "userId",
						"required": true,
						"schema": {
							"$ref": "#/components/schemas/UUID"
						}
					}
				],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/schemas/UpdateUserProfileParams"
							}
						}
					}
				}
			}
		},
		"/users/{userId}/fullinfo": {
			"get": {
				"operationId": "GetUserFullInfo",
				"responses": {
					"200": {
						"description": "Successfully returned the user's information.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/GetUserFullInfoResult"
								}
							}
						}
					},
					"404": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/NotFoundErrorResponse"
								}
							}
						}
					}
				},
				"summary": "Retrieve the user's information.",
				"tags": [
					"Users"
				],
				"security": [
					{
						"jwt": [
							"admin"
						]
					}
				],
				"parameters": [
					{
						"description": "User's unique identifier.",
						"in": "path",
						"name": "userId",
						"required": true,
						"schema": {
							"$ref": "#/components/schemas/UUID"
						}
					}
				]
			},
			"patch": {
				"operationId": "PatchUserFullInfo",
				"responses": {
					"200": {
						"description": "Successfully updated the user's information.",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/PatchUserFullInfoResult"
								}
							}
						}
					},
					"400": {
						"description": "Bad Request",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/BadRequestErrorResponse"
								},
								"examples": {
									"Example 1": {
										"value": {
											"status": 400,
											"error": {
												"fields": {
													"body.name": {
														"message": "invalid string value",
														"value": 0
													}
												}
											}
										}
									}
								}
							}
						}
					},
					"404": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/NotFoundErrorResponse"
								}
							}
						}
					}
				},
				"summary": "Update user's information.",
				"tags": [
					"Users"
				],
				"security": [
					{
						"jwt": [
							"admin"
						]
					}
				],
				"parameters": [
					{
						"description": "User's unique identifier.",
						"in": "path",
						"name": "userId",
						"required": true,
						"schema": {
							"$ref": "#/components/schemas/UUID"
						}
					}
				],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/schemas/UpdateUserFullInfoParams"
							}
						}
					}
				}
			}
		}
	},
	"servers": [
		{
			"url": "/"
		}
	]
}